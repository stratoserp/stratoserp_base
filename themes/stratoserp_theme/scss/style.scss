// Include bootstrap variables definitions overrides.
@import 'overrides/variables';

// Include parent theme with all things Bootstrap for full override.
// Relative path to this styles.scss file.
// Example: @import "../../../../../themes/contrib/bootstrap4/scss/style";
//@import "../../contrib/bootstrap4/scss/style";

// OR test new Bootstrap 4.5.0
@import 'overrides/bootstrap_path';

// Include custom sub theme.
@import 'custom/variables';

// Ensure that the list of extra function buttons dpes the right thing.
.block-stratoserp {
  .item-list {
    li {
      display: inline-block;
      margin: 0 0.25rem 0.25rem 0;

      .btn {
        padding: .2rem .4rem;
      }
      form {
        .form-item, input {
          margin: 0;
          display: inline-block;
        }
      }
    }
  }
}

// Fix weird spacing issue with bootstrap4/Drupal 9
div.vertical-tabs__panes {
  display: inline-block;
  width: 100%;
}

/* Stop the 'Remove' buttons on forms being on a new line */
td .form-item {
  display: inline-block;
}

// Add some blank space at the top of the page.
.row {
  margin-top: .5rem;

  // Reduce footer spacing on timekeeping comment display.
  .node--type-se-ticket {
    .comment {
      .content {
        padding-top: .5rem;
      }
    }

    .layout__region--bottom {
      border-bottom: 1px solid $card-border-color;
    }

    .comment-se-timekeeping-form {
      .layout__region {
        padding: .25rem;
      }
    }
  }
}

.layout {
  .field--label,
  .field--label-hidden,
  .field__label {
    clear: both;
  }
}

.layout--twocol {
  .layout__region {
    padding: 5px;

    // Hide the table drag row weights prompt.
    .tabledrag-toggle-weight-wrapper {
      display: none;
    }
  }
  .layout__region--top {
    padding: 0;
  }
  .layout__middle {
    display: flex;
    width: 100%;
    .layout__region--first,
    .layout__region--second {
      flex-grow: 1
    }
  }
  .layout__region--bottom {
    mark {
      float: right;
      padding: 1em;
      background-color: #ff0;
      border-radius: 50%;
      position: absolute;
      right: 0;
    }
    section article:nth-of-type(odd)  { background-color:#eee; }
    section article:nth-of-type(even) { background-color:#fff; }
    section article footer .layout--onecol {
      padding: 0;
    }
  }
}

#stratoserp-search-form {
  input.button {
    margin-left: unset;
    margin-right: unset;
  }
}

.form-control {
  width: unset;
}

.form-item {
  margin: .5rem 0 .5rem 0;
  label {
    margin-bottom: .25rem;
  }
}

.pager {
  li.btn {
    padding: unset;
    border: unset;
    min-width: 33px;
  }
  li {
    a {
      display: inline-block;
      padding: 0 .75rem 0 .75rem;
    }
  }
  .pager-item {
    min-width: 33px;
  }
}

// Setup icons for the toolbar menu.
nav {
  .toolbar-tab {
    // Icon for system menu entry.
    .toolbar-icon-toolbar-menu-stratoserp:before {
      background-image: url(../icons/stratoserp.svg);
    }
  }

  .toolbar-menu {
    // Icons for StratosERP entries.
    .toolbar-icon-link-toolbar-menu-stratoserp-home:before {
      background-image: url(../icons/house.svg);
    }
    .toolbar-icon-link-toolbar-menu-views-view-views-se-customer-list-se-customer-list:before {
      background-image: url(../icons/people.svg);
    }
    .toolbar-icon-link-toolbar-menu-views-view-views-se-item-list-se-item-list:before {
      background-image: url(../icons/puzzlepiece.svg);
    }
    .toolbar-icon-link-toolbar-menu-views-view-views-se-supplier-list-se-supplier-list:before {
      background-image: url(../icons/file.svg);
    }
    .toolbar-icon-link-toolbar-menu-views-view-views-se-ticket-list-se-ticket-list:before {
      background-image: url(../icons/wrench.svg);
    }
    .toolbar-icon-link-toolbar-menu-views-view-views-se-timekeeping-list-se-timekeeping-list:before {
      background-image: url(../icons/cog.svg);
    }
  }
}

.view {
  // Totals in views should be right justified.
  .views-field-se-gr-total,
  .views-field-se-in-total,
  .views-field-se-pa-total,
  .views-field-se-po-total,
  .views-field-se-qu-total {
    text-align: right;
  }

  // Prices in views should be right justified.
  .views-field-se-it-cost-price,
  .views-field-se-it-sell-price {
    text-align: right;
  }

  // No wrapping
  .views-field {
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}
